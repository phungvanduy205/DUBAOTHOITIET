========================================
PH√ÇN T√çCH C·∫§U TR√öC D·ª∞ √ÅN TH·ªúI TI·∫æT (C·∫¨P NH·∫¨T)
========================================

1. API V√Ä X·ª¨ L√ù D·ªÆ LI·ªÜU
========================================

1.1. DichVuThoiTiet.cs (D√≤ng 1-353)
- TimDiaDiem(string tenXa) - D√≤ng 17-50: T√¨m ƒë·ªãa ƒëi·ªÉm qua Geoapify v√† OpenWeather
- TimDiaDiemQuaGeoapify(string tenXa) - D√≤ng 52-80: T√¨m ƒë·ªãa ƒëi·ªÉm qua Geoapify API
- TimDiaDiemQuaOpenWeather(string tenXa) - D√≤ng 82-110: T√¨m ƒë·ªãa ƒëi·ªÉm qua OpenWeather API
- ChuanHoaKhongDau(string input) - D√≤ng 112-130: Chu·∫©n h√≥a chu·ªói kh√¥ng d·∫•u
- LayThoiTietHienTai(double lat, double lon) - D√≤ng 132-160: L·∫•y th·ªùi ti·∫øt hi·ªán t·∫°i
- LayDuBao5Ngay(double lat, double lon) - D√≤ng 162-190: L·∫•y d·ª± b√°o 5 ng√†y
- LayDuBao24Gio(double lat, double lon) - D√≤ng 192-220: L·∫•y d·ª± b√°o 24 gi·ªù
- LayThoiTietDayDu(double lat, double lon) - D√≤ng 222-250: L·∫•y th·ªùi ti·∫øt ƒë·∫ßy ƒë·ªß
- LayViTriHienTai() - D√≤ng 252-280: L·∫•y v·ªã tr√≠ hi·ªán t·∫°i theo IP
- LayToaDoTuTen(string tenDiaDiem) - D√≤ng 282-310: L·∫•y t·ªça ƒë·ªô t·ª´ t√™n ƒë·ªãa ƒëi·ªÉm
- LayThoiTietTuToaDo(double lat, double lon) - D√≤ng 312-340: L·∫•y th·ªùi ti·∫øt t·ª´ t·ªça ƒë·ªô

1.2. WeatherApiClasses.cs (D√≤ng 1-499)
- CauHinhApi class - D√≤ng 10-50: C·∫•u h√¨nh API keys t·ª´ .env file
- WeatherApiService class - D√≤ng 52-499: D·ªãch v·ª• g·ªçi API ch√≠nh
  - GetCurrentLocationAsync() - D√≤ng 60-80: L·∫•y v·ªã tr√≠ hi·ªán t·∫°i
  - GeocodeAsync(string location) - D√≤ng 82-120: Geocoding
  - GetCoordinatesAsync(string location) - D√≤ng 122-160: L·∫•y t·ªça ƒë·ªô
  - GetCurrentWeatherAsync(double lat, double lon) - D√≤ng 162-200: Th·ªùi ti·∫øt hi·ªán t·∫°i
  - GetWeatherDataAsync(double lat, double lon) - D√≤ng 202-240: D·ªØ li·ªáu th·ªùi ti·∫øt ƒë·∫ßy ƒë·ªß
  - GetForecastAsync(double lat, double lon) - D√≤ng 242-280: D·ª± b√°o th·ªùi ti·∫øt
  - GetHourlyForecastAsync(double lat, double lon) - D√≤ng 282-320: D·ª± b√°o theo gi·ªù

1.3. Form1.cs - C√°c h√†m API ch√≠nh (Region: Weather API v√† Data Loading)
- LoadInitialWeatherData() - D√≤ng 449-472: T·∫£i d·ªØ li·ªáu th·ªùi ti·∫øt ban ƒë·∫ßu
- LoadWeatherByIP() - D√≤ng 874-907: Load th·ªùi ti·∫øt theo IP
- LoadWeatherForDefaultLocation(string locationName) - D√≤ng 909-938: Load th·ªùi ti·∫øt cho ƒë·ªãa ƒëi·ªÉm m·∫∑c ƒë·ªãnh
- CapNhatThoiTiet() - D√≤ng 1239-1272: C·∫≠p nh·∫≠t th·ªùi ti·∫øt
- TimKiemDiaDiem(string diaDiem) - D√≤ng 2357-2396: T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm
- HienThiThongTin(string name, OneCallResponse weather) - D√≤ng 577-650: Hi·ªÉn th·ªã th√¥ng tin th·ªùi ti·∫øt

2. NH·∫¨P ƒê·ªäA ƒêI·ªÇM, T√åM KI·∫æM, L∆ØU ƒê·ªäA ƒêI·ªÇM, ƒê·ªîI ƒê·ªäA ƒêI·ªÇM
========================================

2.1. Form1.cs - Qu·∫£n l√Ω ƒë·ªãa ƒëi·ªÉm
- LuuDiaDiem(string name, double lat, double lon) - D√≤ng 749-820: L∆∞u ƒë·ªãa ƒëi·ªÉm v√†o file
- LuuDiaDiemSilent(string locationName, double lat, double lon) - D√≤ng 1010-1070: L∆∞u ƒë·ªãa ƒëi·ªÉm t·ª± ƒë·ªông
- NapDiaDiemDaLuu() - D√≤ng 694-720: N·∫°p danh s√°ch ƒë·ªãa ƒëi·ªÉm ƒë√£ l∆∞u
- SaveLocationsToFile() - D√≤ng 722-740: L∆∞u danh s√°ch ƒë·ªãa ƒëi·ªÉm v√†o file
- LoadLocationsFromFile() - D√≤ng 742-780: ƒê·ªçc danh s√°ch ƒë·ªãa ƒëi·ªÉm t·ª´ file
- SuKienChonDiaDiemDaLuu() - D√≤ng 782-800: S·ª± ki·ªán ch·ªçn ƒë·ªãa ƒëi·ªÉm ƒë√£ l∆∞u
- TimKiemGoiYDiaDiem(string searchText) - D√≤ng 2404-2410: T√¨m ki·∫øm g·ª£i √Ω ƒë·ªãa ƒëi·ªÉm

2.2. Event Handlers - Form1.cs
- NutTimKiem_Click() - D√≤ng 1219-1237: S·ª± ki·ªán click n√∫t t√¨m ki·∫øm
- oTimKiemDiaDiem_KeyDown() - D√≤ng 2279-2295: S·ª± ki·ªán ph√≠m trong √¥ t√¨m ki·∫øm
- oTimKiemDiaDiem_KeyPress() - D√≤ng 2344-2356: S·ª± ki·ªán nh·∫•n ph√≠m trong √¥ t√¨m ki·∫øm
- listBoxDiaDiemDaLuu_SelectedIndexChanged() - D√≤ng 2334-2342: S·ª± ki·ªán ch·ªçn ƒë·ªãa ƒëi·ªÉm t·ª´ listbox

2.3. Form1.Designer.cs - Giao di·ªán t√¨m ki·∫øm
- oTimKiemDiaDiem (TextBox) - D√≤ng 200-220: √î nh·∫≠p ƒë·ªãa ƒëi·ªÉm
- NutTimKiem (Button) - D√≤ng 250-270: N√∫t t√¨m ki·∫øm
- listBoxDiaDiemDaLuu (ListBox) - D√≤ng 300-320: Danh s√°ch ƒë·ªãa ƒëi·ªÉm ƒë√£ l∆∞u

3. N√öT CHUY·ªÇN ƒê·ªîI C/F (CELSIUS/FAHRENHEIT)
========================================

3.1. Controls/UnitToggle.cs (D√≤ng 1-118)
- UnitToggle class - D√≤ng 7-118: Control chuy·ªÉn ƒë·ªïi ƒë∆°n v·ªã
- LaCelsius property - D√≤ng 13-23: Thu·ªôc t√≠nh ƒë∆°n v·ªã Celsius
- DonViThayDoi event - D√≤ng 24: S·ª± ki·ªán thay ƒë·ªïi ƒë∆°n v·ªã
- CapNhatGiaoDien() - D√≤ng 50-80: C·∫≠p nh·∫≠t giao di·ªán toggle
- btnC_Click() - D√≤ng 82-90: S·ª± ki·ªán click n√∫t Celsius
- btnF_Click() - D√≤ng 92-100: S·ª± ki·ªán click n√∫t Fahrenheit

3.2. Form1.cs - X·ª≠ l√Ω chuy·ªÉn ƒë·ªïi ƒë∆°n v·ªã
- UnitToggle_DonViThayDoi() - D√≤ng 1267-1273: S·ª± ki·ªán thay ƒë·ªïi ƒë∆°n v·ªã t·ª´ UnitToggle
- CapNhatThoiTiet() - D√≤ng 1239-1272: C·∫≠p nh·∫≠t th·ªùi ti·∫øt khi ƒë·ªïi ƒë∆°n v·ªã

4. BI·ªÇU ƒê·ªí NHI·ªÜT ƒê·ªò V√Ä B·∫¢N ƒê·ªí WINDY
========================================

4.1. Form1.cs - Bi·ªÉu ƒë·ªì nhi·ªát ƒë·ªô v√† b·∫£n ƒë·ªì Windy
- LoadWindyMap(double lat, double lon) - D√≤ng 3307-3313: Load b·∫£n ƒë·ªì Windy
- EnsureWindyBrowser() - D√≤ng 3220-3255: Kh·ªüi t·∫°o WebView2 cho b·∫£n ƒë·ªì Windy
- ShowChart() - D√≤ng 3256-3259: Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì nhi·ªát ƒë·ªô
- ShowMap() - D√≤ng 3261-3283: Hi·ªÉn th·ªã b·∫£n ƒë·ªì Windy
- bieuDoNhietDo (Chart) - D√≤ng 38: Field bi·ªÉu ƒë·ªì nhi·ªát ƒë·ªô
- banDoGio (WebView2) - D√≤ng 39: Field b·∫£n ƒë·ªì gi√≥

4.2. WindyMapForm.cs (M·ªöI) - Form b·∫£n ƒë·ªì Windy ph√≥ng to
- WindyMapForm class - D√≤ng 1-150: Form hi·ªÉn th·ªã b·∫£n ƒë·ªì Windy ph√≥ng to
- InitializeComponent() - D√≤ng 25-60: Kh·ªüi t·∫°o giao di·ªán form
- InitializeWindyMap() - D√≤ng 62-85: Kh·ªüi t·∫°o WebView2 cho b·∫£n ƒë·ªì
- LoadWindyMap() - D√≤ng 87-110: Load b·∫£n ƒë·ªì Windy v·ªõi zoom cao
- RefreshMap() - D√≤ng 112-115: L√†m m·ªõi b·∫£n ƒë·ªì
- ToggleFullscreen() - D√≤ng 117-125: Chuy·ªÉn ƒë·ªïi to√†n m√†n h√¨nh
- ShowAbout() - D√≤ng 135-150: Hi·ªÉn th·ªã th√¥ng tin v·ªÅ ·ª©ng d·ª•ng

4.3. Form1.cs - N√∫t ph√≥ng to b·∫£n ƒë·ªì Windy
- MoCuaSoWindyPhongTo() - D√≤ng 3318-3342: M·ªü c·ª≠a s·ªï Windy ph√≥ng to
- N√∫t ph√≥ng to (üîç) - D√≤ng 3233-3254: N√∫t ·ªü g√≥c ph·∫£i b·∫£n ƒë·ªì mini

4.4. Form1.Designer.cs - Giao di·ªán bi·ªÉu ƒë·ªì
- bieuDoNhietDo (Chart) - D√≤ng 400-450: Control bi·ªÉu ƒë·ªì nhi·ªát ƒë·ªô
- banDoGio (WebView2) - D√≤ng 500-550: Control b·∫£n ƒë·ªì Windy

5. TH·ªúI TI·∫æT 24H V√Ä TH·ªúI TI·∫æT 5 NG√ÄY
========================================

5.1. Form1.cs - D·ª± b√°o 24 gi·ªù
- LoadDuBao24h(HourlyWeather[] hourlyList, string kyHieu) - D√≤ng 2690-2832: Load d·ª± b√°o 24 gi·ªù
- TaoPanelDuBaoGio(HourlyWeather hour, string kyHieu) - D√≤ng 2750-2800: T·∫°o panel d·ª± b√°o theo gi·ªù

5.2. Form1.cs - D·ª± b√°o 5 ng√†y
- LoadForecast5Days(DailyWeather[] dailyList, string kyHieu) - D√≤ng 2834-3438: Load d·ª± b√°o 5 ng√†y
- TaoPanelDuBaoNgay(DailyWeather daily, string kyHieu) - D√≤ng 2900-3000: T·∫°o panel d·ª± b√°o theo ng√†y
- TaoPanelDuBaoNgayMoi(DailyWeather daily, string kyHieu) - D√≤ng 3000-3100: T·∫°o panel d·ª± b√°o ng√†y m·ªõi

5.3. Form1.Designer.cs - Giao di·ªán d·ª± b√°o
- BangTheoGio (Panel) - D√≤ng 600-650: Panel d·ª± b√°o 24 gi·ªù
- BangNhieuNgay (Panel) - D√≤ng 700-750: Panel d·ª± b√°o 5 ng√†y

6. TH√îNG TIN D·ªÆ LI·ªÜU CH√çNH, M√î T·∫¢ TR·∫†NG TH√ÅI, G·ª¢I √ù HO·∫†T ƒê·ªòNG
========================================

6.1. Form1.cs - Hi·ªÉn th·ªã th√¥ng tin ch√≠nh
- HienThiThongTin(string name, OneCallResponse weather) - D√≤ng 577-650: Hi·ªÉn th·ªã th√¥ng tin th·ªùi ti·∫øt ch√≠nh
- CapNhatDiaDiem(string diaDiem) - D√≤ng 560-576: C·∫≠p nh·∫≠t t√™n ƒë·ªãa ƒëi·ªÉm
- CapNhatThoiGian() - D√≤ng 489-559: C·∫≠p nh·∫≠t th·ªùi gian hi·ªán t·∫°i

6.2. Form1.cs - M√¥ t·∫£ v√† g·ª£i √Ω
- GetVietnameseWeatherDescription(string englishDesc) - D√≤ng 3600-3700: Chuy·ªÉn ƒë·ªïi m√¥ t·∫£ sang ti·∫øng Vi·ªát
- GetWeatherSuggestions(string weatherDesc) - D√≤ng 3700-3800: L·∫•y g·ª£i √Ω ho·∫°t ƒë·ªông theo th·ªùi ti·∫øt
- GetVietnameseDayName(long unixTime) - D√≤ng 3880-3900: L·∫•y t√™n ng√†y ti·∫øng Vi·ªát

6.3. Form1.Designer.cs - Labels th√¥ng tin ch√≠nh
- nhanTenDiaDiem (Label) - D√≤ng 100-120: Label t√™n ƒë·ªãa ƒëi·ªÉm
- nhanNhietDoHienTai (Label) - D√≤ng 150-170: Label nhi·ªát ƒë·ªô hi·ªán t·∫°i
- nhanTrangThai (Label) - D√≤ng 200-220: Label tr·∫°ng th√°i th·ªùi ti·∫øt
- nhanThoiGian (Label) - D√≤ng 250-270: Label th·ªùi gian

7. ICON V√Ä BACKGROUND
========================================

7.1. Form1.cs - Icon th·ªùi ti·∫øt
- GetWeatherIcon(string iconCode) - D√≤ng 3600-3650: L·∫•y icon th·ªùi ti·∫øt
- GetWeatherIconFromEmoji(string iconPath) - D√≤ng 1444-1450: T·∫°o icon t·ª´ emoji
- GetWeatherIconFromEmojiSmall(string iconPath) - D√≤ng 1449-1455: T·∫°o icon nh·ªè t·ª´ emoji
- GetWeatherIconFromEmoji(string iconPath, int size) - D√≤ng 1454-1500: T·∫°o icon v·ªõi k√≠ch th∆∞·ªõc t√πy ch·ªânh
- HienThiIconVaNen(int ma, string iconCode) - D√≤ng 2007-2052: Hi·ªÉn th·ªã icon v√† n·ªÅn
- TaoFileIconThuc() - D√≤ng 2195-2250: T·∫°o file icon th·ª±c

7.2. Form1.cs - Background
- SetBackground(string weatherMain, int weatherId) - D√≤ng 245-376: Set background theo th·ªùi ti·∫øt
- TaoNenToanCuc(Image? nenHinh) - D√≤ng 2053-2194: T·∫°o n·ªÅn to√†n c·ª•c
- ForceSetBackgroundInLoad() - D√≤ng 111-195: Force set background khi load
- SetDefaultBackgroundOnStartup() - D√≤ng 196-244: Set background m·∫∑c ƒë·ªãnh khi kh·ªüi ƒë·ªông

7.3. Form1.Designer.cs - Controls icon v√† background
- anhIconThoiTiet (PictureBox) - D√≤ng 300-320: PictureBox hi·ªÉn th·ªã icon th·ªùi ti·∫øt

8. T·∫†O GIAO DI·ªÜN
========================================

8.1. Form1.Designer.cs (D√≤ng 1-608) - Thi·∫øt k·∫ø giao di·ªán ch√≠nh
- Form1 class - D√≤ng 20-608: Form ch√≠nh
- InitializeComponent() - D√≤ng 30-100: Kh·ªüi t·∫°o c√°c control
- Control declarations - D√≤ng 100-200: Khai b√°o c√°c control
- Control initialization - D√≤ng 200-400: Kh·ªüi t·∫°o c√°c control
- Control configuration - D√≤ng 400-608: C·∫•u h√¨nh c√°c control

8.2. Form1.cs - T·∫°o giao di·ªán ƒë·ªông
- ApDungStyleGlassmorphism() - D√≤ng 793-900: √Åp d·ª•ng style glassmorphism
- TaoNoiDungPanelChiTiet() - D√≤ng 2404-2422: T·∫°o n·ªôi dung panel chi ti·∫øt
- TaoPanelChiTiet(Panel panel, string icon, string title, string value) - D√≤ng 2424-2486: T·∫°o panel chi ti·∫øt
- TaoNutDongForm() - D√≤ng 1199-1237: T·∫°o n√∫t ƒë√≥ng form

9. C·∫§U H√åNH API V√Ä B·∫¢O M·∫¨T
========================================

9.1. WeatherApiClasses.cs - C·∫•u h√¨nh API
- LayKhoaApi(string keyName) - D√≤ng 15-35: L·∫•y API key t·ª´ .env file
- CauHinhApi class - D√≤ng 10-50: Qu·∫£n l√Ω t·∫•t c·∫£ API keys
  - API_KEY - OpenWeather API key
  - GEOCODING_API_KEY - Geocoding API key  
  - GEOAPIFY_API_KEY - Geoapify API key
  - WINDY_API_KEY - Windy API key

9.2. File c·∫•u h√¨nh
- .env - File ch·ª©a API keys (kh√¥ng commit v√†o git)
- env.example - Template cho file .env
- .gitignore - B·ªè qua .env v√† api_config.txt

9.3. HUONG_DAN_CAU_HINH_API.md
- H∆∞·ªõng d·∫´n c·∫•u h√¨nh API keys
- C√°ch t·∫°o file .env
- C√°ch l·∫•y API keys t·ª´ c√°c d·ªãch v·ª•

10. C√ÅC H√ÄM V√Ä CH·ª®C NƒÇNG CH√çNH TRONG D·ª∞ √ÅN
========================================

10.1. Form1.cs - H√†m ch√≠nh (D√≤ng 1-3633)
- Constructor v√† Form Events (D√≤ng 49-296)
- Background v√† UI Setup (D√≤ng 297-560)
- UI Updates v√† Styling (D√≤ng 561-728)
- Weather API v√† Data Loading (D√≤ng 729-1010) - REGION M·ªöI
- Location Management (D√≤ng 1011-1200)
- Event Handlers (D√≤ng 1201-1400)
- Forecast v√† UI Components (D√≤ng 1401-3600)
- Utility Methods (D√≤ng 3601-3633)

10.2. DichVuThoiTiet.cs - D·ªãch v·ª• API (D√≤ng 1-353)
- T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm
- L·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt
- X·ª≠ l√Ω API calls

10.3. WeatherApiClasses.cs - Classes API (D√≤ng 1-499)
- C·∫•u h√¨nh API t·ª´ .env file
- D·ªãch v·ª• g·ªçi API
- Data classes

10.4. WindyMapForm.cs - Form b·∫£n ƒë·ªì ph√≥ng to (M·ªöI)
- Form hi·ªÉn th·ªã b·∫£n ƒë·ªì Windy ph√≥ng to
- Menu bar v·ªõi c√°c t√πy ch·ªçn
- WebView2 control cho b·∫£n ƒë·ªì

10.5. Controls/UnitToggle.cs - Control chuy·ªÉn ƒë·ªïi (D√≤ng 1-118)
- Toggle Celsius/Fahrenheit
- Giao di·ªán chuy·ªÉn ƒë·ªïi

10.6. Program.cs - Entry point (D√≤ng 1-12)
- Main method
- Kh·ªüi ƒë·ªông ·ª©ng d·ª•ng

10.7. Form1.Designer.cs - Thi·∫øt k·∫ø giao di·ªán (D√≤ng 1-608)
- Layout controls
- C·∫•u h√¨nh giao di·ªán

11. T√çNH NƒÇNG M·ªöI ƒê√É TH√äM
========================================

11.1. B·∫£n ƒë·ªì Windy ph√≥ng to
- WindyMapForm.cs: Form m·ªõi cho b·∫£n ƒë·ªì ph√≥ng to
- N√∫t ph√≥ng to (üîç) ·ªü g√≥c ph·∫£i b·∫£n ƒë·ªì mini
- Menu bar v·ªõi t√πy ch·ªçn: T·ªáp, Xem, Tr·ª£ gi√∫p
- Ch·ª©c nƒÉng to√†n m√†n h√¨nh, ph√≥ng to/thu nh·ªè

11.2. C·∫•u h√¨nh API b·∫£o m·∫≠t
- API keys ƒë∆∞·ª£c l∆∞u trong .env file
- Kh√¥ng hardcode API keys trong code
- H∆∞·ªõng d·∫´n c·∫•u h√¨nh chi ti·∫øt

11.3. Code cleanup
- X√≥a debug code v√† method kh√¥ng c·∫ßn thi·∫øt
- X√≥a catch blocks tr·ªëng
- X√≥a using statements kh√¥ng s·ª≠ d·ª•ng
- T·ªï ch·ª©c code theo regions

========================================
T·ªîNG K·∫æT
========================================
- T·ªïng s·ªë file: 7 files ch√≠nh (th√™m WindyMapForm.cs)
- T·ªïng s·ªë d√≤ng code: ~4,500+ d√≤ng (ƒë√£ d·ªçn d·∫πp)
- Ch·ª©c nƒÉng ch√≠nh: ·ª®ng d·ª•ng th·ªùi ti·∫øt WinForms v·ªõi API OpenWeather
- T√≠nh nƒÉng m·ªõi: B·∫£n ƒë·ªì Windy ph√≥ng to, c·∫•u h√¨nh API b·∫£o m·∫≠t
- Ki·∫øn tr√∫c: Model-View-Controller pattern
- C√¥ng ngh·ªá: C# WinForms, .NET, OpenWeather API, WebView2, Windy API
- B·∫£o m·∫≠t: API keys trong .env file, kh√¥ng hardcode