# 🌤️ Ứng Dụng Thời Tiết WinForms

Ứng dụng thời tiết đầy đủ tính năng được xây dựng bằng C# WinForms với giao diện glassmorphism hiện đại và tích hợp bản đồ gió Windy.

## ✨ Tính Năng Chính

### 🌡️ Hiển Thị Thời Tiết
- **Thời tiết hiện tại** với icon emoji và background động
- **Dự báo 24 giờ** với biểu đồ nhiệt độ tương tác
- **Dự báo 5 ngày** với thông tin chi tiết và click để xem biểu đồ 24h
- **Chuyển đổi đơn vị** Celsius/Fahrenheit với toggle đẹp mắt
- **Background động** thay đổi theo thời tiết và thời gian trong ngày
- **Gợi ý hoạt động** dựa trên điều kiện thời tiết

### 🔍 Tìm Kiếm & Quản Lý Địa Điểm
- **Tìm kiếm địa điểm** qua tên thành phố, quận, huyện với gợi ý real-time
- **Lưu địa điểm yêu thích** để truy cập nhanh
- **Chuyển đổi giữa các địa điểm** đã lưu
- **Tự động lưu** địa điểm hiện tại
- **Xóa địa điểm** không cần thiết
- **Tìm kiếm thông minh** với chuẩn hóa tiếng Việt không dấu

### 🗺️ Bản Đồ Gió Windy
- **Bản đồ gió mini** trong ứng dụng với WebView2
- **Nút phóng to (🔍)** ở góc phải bản đồ
- **Form bản đồ phóng to** với menu bar đầy đủ:
  - **Tệp**: Làm mới bản đồ, đóng
  - **Xem**: Toàn màn hình, phóng to/thu nhỏ
  - **Trợ giúp**: Thông tin về ứng dụng
- **Bản đồ tương tác** với thông tin gió, nhiệt độ, áp suất chi tiết

### 🎨 Giao Diện Hiện Đại
- **Style glassmorphism** với nền trong suốt và bo tròn góc
- **Icon thời tiết emoji** đẹp mắt và trực quan
- **Giao diện responsive** thích ứng mọi kích thước màn hình
- **Hiệu ứng hover** và animation mượt mà
- **Màu sắc thông minh** thay đổi theo thời gian (sáng/tối)

## 🛠️ Công Nghệ Sử Dụng

- **.NET 8.0** - Framework chính
- **C# WinForms** - Giao diện desktop
- **WebView2** - Hiển thị bản đồ Windy
- **Newtonsoft.Json** - Xử lý dữ liệu JSON
- **System.Windows.Forms.DataVisualization** - Biểu đồ nhiệt độ
- **Guna.UI2.WinForms** - UI components nâng cao

## 🌐 API Tích Hợp

- **OpenWeatherMap API** - Dữ liệu thời tiết chính
- **Geoapify API** - Geocoding và tìm kiếm địa điểm (ưu tiên)
- **Google Geocoding API** - Geocoding dự phòng
- **Windy API** - Bản đồ gió tương tác

## 📁 Cấu Trúc Dự Án

```
THOITIET/
├── Controls/
│   └── UnitToggle.cs          # Control chuyển đổi C/F (118 dòng)
├── Properties/
│   ├── Resources.Designer.cs  # Resources (94 dòng)
│   └── Resources.resx
├── Form1.cs                   # Form chính (3,633 dòng)
├── Form1.Designer.cs          # Thiết kế giao diện
├── Form1.resx                 # Resources form
├── WindyMapForm.cs            # Form bản đồ phóng to (210 dòng)
├── WeatherApiClasses.cs       # Classes API (499 dòng)
├── DichVuThoiTiet.cs          # Dịch vụ thời tiết (353 dòng)
├── Program.cs                 # Entry point (12 dòng)
├── THOITIET.csproj           # Project file
├── THOITIET.sln              # Solution file
├── .env                      # API keys (không commit)
├── .gitignore               # Git ignore
└── README.md                # File này
```

## 🚀 Cài Đặt & Chạy

### Yêu Cầu Hệ Thống
- **Windows 10/11** (x64)
- **.NET 8.0 Runtime**
- **Microsoft Edge WebView2 Runtime**
- **Kết nối internet** để gọi API

### Cài Đặt
1. **Clone repository:**
   ```bash
   git clone <repository-url>
   cd THOITIET
   ```

2. **Cấu hình API Keys:**
   - Tạo file `.env` trong thư mục gốc
   - Điền API keys vào file `.env`:
     ```
     OPENWEATHER_API_KEY=your_openweather_api_key
     GEOCODING_API_KEY=your_google_geocoding_api_key
     GEOAPIFY_API_KEY=your_geoapify_api_key
     WINDY_API_KEY=your_windy_api_key
     ```

3. **Build và chạy:**
   ```bash
   dotnet build
   dotnet run
   ```

### Lấy API Keys
- **OpenWeatherMap**: [openweathermap.org/api](https://openweathermap.org/api) (Miễn phí)
- **Google Geocoding**: [developers.google.com/maps/documentation/geocoding](https://developers.google.com/maps/documentation/geocoding) (Có phí)
- **Geoapify**: [geoapify.com](https://geoapify.com/) (Miễn phí 3000 requests/tháng)
- **Windy**: [windy.com](https://windy.com/) (Miễn phí)

## 📖 Hướng Dẫn Sử Dụng

### 🌡️ Xem Thời Tiết
1. **Thời tiết hiện tại** hiển thị ngay khi mở ứng dụng
2. **Chuyển đổi đơn vị** bằng toggle C/F ở góc phải
3. **Xem dự báo 24h** trong tab "Biểu đồ nhiệt độ"
4. **Xem dự báo 5 ngày** ở panel bên phải
5. **Click vào ngày** trong dự báo 5 ngày để xem biểu đồ 24h chi tiết

### 🔍 Tìm Kiếm Địa Điểm
1. **Nhập tên địa điểm** vào ô tìm kiếm (có gợi ý real-time)
2. **Nhấn Enter** hoặc click nút tìm kiếm
3. **Chọn địa điểm** từ danh sách gợi ý
4. **Lưu địa điểm** bằng nút "Lưu" để truy cập nhanh
5. **Chuyển đổi địa điểm** bằng dropdown ở góc phải

### 🗺️ Sử Dụng Bản Đồ Gió
1. **Chuyển sang tab "Bản đồ"** để xem bản đồ Windy
2. **Click nút 🔍** ở góc phải để phóng to
3. **Sử dụng menu** trong form phóng to:
   - **Tệp → Làm mới bản đồ**: Reload bản đồ
   - **Xem → Toàn màn hình**: Chế độ toàn màn hình
   - **Xem → Phóng to/Thu nhỏ**: Điều chỉnh zoom
   - **Trợ giúp → Giới thiệu**: Thông tin về ứng dụng

### 💾 Quản Lý Địa Điểm
1. **Lưu địa điểm** bằng nút "Lưu" khi đang xem
2. **Xóa địa điểm** bằng nút "Xóa" trong danh sách
3. **Chuyển đổi địa điểm** bằng dropdown ở góc phải
4. **Tự động lưu** địa điểm hiện tại khi tìm kiếm

## 🔧 Cấu Hình Nâng Cao

### 🎨 Tùy Chỉnh Giao Diện
- **Background động** tự động thay đổi theo thời tiết và thời gian
- **Icon emoji** cho các trạng thái thời tiết
- **Style glassmorphism** với độ trong suốt có thể điều chỉnh
- **Màu sắc thông minh** thay đổi theo ban ngày/ban đêm

### 🌐 Cấu Hình API
- **API keys** được lưu trong file `.env` để bảo mật
- **Fallback** sang các API khác nếu một API lỗi
- **Rate limiting** tự động để tránh vượt quá giới hạn
- **Ưu tiên Geoapify** cho tìm kiếm địa điểm Việt Nam

### 📊 Hiệu Suất
- **Khởi động nhanh** < 3 giây
- **Tải dữ liệu** < 2 giây
- **Bộ nhớ sử dụng** < 100MB
- **CPU usage** < 5% khi idle
- **Tự động cập nhật** mỗi giờ

## 🐛 Xử Lý Lỗi

### Lỗi Thường Gặp
1. **"Vui lòng cấu hình OPENWEATHER_API_KEY"**
   - Kiểm tra file `.env` có tồn tại
   - Kiểm tra API key có đúng format
   - Kiểm tra API key có hoạt động

2. **"Lỗi tải bản đồ Windy"**
   - Kiểm tra WINDY_API_KEY trong `.env`
   - Kiểm tra kết nối internet
   - Kiểm tra WebView2 Runtime đã cài đặt

3. **"Không tìm thấy địa điểm"**
   - Thử nhập tên địa điểm khác
   - Kiểm tra GEOAPIFY_API_KEY hoặc GEOCODING_API_KEY
   - Thử nhập tên địa điểm bằng tiếng Việt có dấu

4. **"Lỗi kết nối API"**
   - Kiểm tra kết nối internet
   - Kiểm tra API keys có còn hạn
   - Thử lại sau vài phút

### Logs & Debug
- **Console output** hiển thị lỗi chi tiết
- **Try-catch** xử lý lỗi gracefully
- **Fallback** sang địa điểm mặc định (Hà Nội) khi lỗi
- **Thông báo lỗi** thân thiện với người dùng

## 🔒 Bảo Mật

- **API keys** không được hardcode trong source code
- **File .env** được ignore trong git
- **Không lưu trữ** dữ liệu cá nhân
- **Kết nối HTTPS** cho tất cả API calls
- **Xử lý lỗi** không tiết lộ thông tin nhạy cảm

## 📊 Thống Kê Dự Án

- **Tổng số file**: 7 files chính
- **Tổng số dòng code**: ~4,500+ dòng
- **Số regions trong Form1**: 11 regions
- **Số API tích hợp**: 4 APIs
- **Số tính năng chính**: 15+ tính năng

## 🤝 Đóng Góp

### Cách Đóng Góp
1. **Fork** repository
2. **Tạo branch** mới cho feature: `git checkout -b feature/amazing-feature`
3. **Commit** changes: `git commit -m 'Add amazing feature'`
4. **Push** lên branch: `git push origin feature/amazing-feature`
5. **Tạo Pull Request**

### Quy Tắc Code
- **C# coding standards** và naming conventions
- **XML documentation** cho public methods
- **Error handling** đầy đủ với try-catch
- **Unit tests** cho logic phức tạp
- **Code cleanup** trước khi commit

## 📝 Changelog

### v1.0.0 (2024-09-28)
- ✅ Ứng dụng thời tiết cơ bản với giao diện glassmorphism
- ✅ Dự báo 24h và 5 ngày với biểu đồ tương tác
- ✅ Tìm kiếm và quản lý địa điểm với gợi ý real-time
- ✅ Bản đồ Windy phóng to với menu bar đầy đủ
- ✅ Chuyển đổi đơn vị C/F với toggle đẹp mắt
- ✅ Background động theo thời tiết và thời gian
- ✅ Cấu hình API bảo mật với .env file
- ✅ Gợi ý hoạt động dựa trên thời tiết
- ✅ Tự động lưu địa điểm và cập nhật mỗi giờ

## 📄 License

MIT License - Xem file [LICENSE](LICENSE) để biết thêm chi tiết.

## 👨‍💻 Tác Giả

**Developer**: [Tên của bạn]
**Email**: [email@example.com]
**GitHub**: [github.com/username]

## 🙏 Cảm Ơn

- **OpenWeatherMap** - Dữ liệu thời tiết chính xác
- **Geoapify** - Geocoding service cho Việt Nam
- **Google** - Geocoding API dự phòng
- **Windy** - Bản đồ gió tương tác đẹp mắt
- **Microsoft** - .NET framework và WebView2
- **Community** - Các thư viện open source

---

⭐ **Nếu bạn thích dự án này, hãy cho một star!** ⭐

🔗 **Liên kết hữu ích:**
- [OpenWeatherMap API](https://openweathermap.org/api)
- [Geoapify API](https://geoapify.com/)
- [Windy API](https://windy.com/)
- [.NET 8 Documentation](https://docs.microsoft.com/en-us/dotnet/)
- [WebView2 Documentation](https://docs.microsoft.com/en-us/microsoft-edge/webview2/)